{"version":3,"sources":["../src/IfTrue.js"],"names":["IfTrue","props","children","debug","Array","isArray","statement","condition","st","allowedChildren","orElse","console","log","child","type","name","push","length","React","Component","propTypes","PropTypes","bool","string"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;;;;;;;;;IAEMA,M;;;;;;;;;;;iCAGF;AACI,gBAAI,CAAC,KAAKC,KAAL,CAAWC,QAAhB,EAA0B;AACtB,uBAAO,IAAP;AACH;AACD,gBAAMC,QAAQ,KAAKF,KAAL,CAAWE,KAAX,IAAoB,KAAlC;AACA,gBAAID,WAAW,KAAKD,KAAL,CAAWC,QAA1B;AACA,gBAAI,CAACE,MAAMC,OAAN,CAAcH,QAAd,CAAL,EAA8B;AAC1BA,2BAAW,CAAEA,QAAF,CAAX;AACH;AACD,gBAAMI,YAAY,OAAO,KAAKL,KAAL,CAAWM,SAAlB,KAAgC,WAAhC,GACd,KAAKN,KAAL,CAAWM,SADG,GACU,KAAKN,KAAL,CAAWK,SAAX,IAAwB,KAAKL,KAAL,CAAWO,EAD/D;AAEA,gBAAMC,kBAAkB,EAAxB;AACA,gBAAIC,SAAS,KAAb;AACA;AACA,gBAAI,CAACJ,SAAL,EAAgB;AACZ,oBAAIH,KAAJ,EAAWQ,QAAQC,GAAR,cAAuBT,KAAvB;AADC;AAAA;AAAA;;AAAA;AAEZ,yCAAoBD,QAApB,8HAA8B;AAAA,4BAAnBW,KAAmB;;AAC1B,4BAAIA,MAAMC,IAAN,IAAcD,MAAMC,IAAN,CAAWC,IAAX,KAAoB,QAAtC,EAAgD;AAC5C,gCAAIZ,KAAJ,EAAWQ,QAAQC,GAAR,cAAuBT,KAAvB;AACXO,qCAAS,IAAT;AACH,yBAHD,MAGO;AACH,gCAAIA,MAAJ,EAAY;AACRD,gDAAgBO,IAAhB,CAAqBH,KAArB;AACH;AACJ;AACJ;AAXW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYf,aAZD,MAYO;AACH,oBAAIV,KAAJ,EAAWQ,QAAQC,GAAR,cAAuBT,KAAvB;AADR;AAAA;AAAA;;AAAA;AAEH,0CAAoBD,QAApB,mIAA8B;AAAA,4BAAnBW,MAAmB;;AAC1B,4BAAIA,OAAMC,IAAN,IAAcD,OAAMC,IAAN,CAAWC,IAAX,KAAoB,QAAtC,EAAgD;AAC5C,gCAAIZ,KAAJ,EAAWQ,QAAQC,GAAR,cAAuBT,KAAvB;AACX;AACH;AACDM,wCAAgBO,IAAhB,CAAqBH,MAArB;AACH;AARE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASN;AACD,gBAAIV,KAAJ,EAAWQ,QAAQC,GAAR,cAAuBT,KAAvB,wCAA+DM,gBAAgBQ,MAA/E;AACX,mBAAOR,gBAAgBQ,MAAhB,GAAyB,CAAzB,GACF;AAAC,+BAAD,CAAO,QAAP;AAAA;AAAkBR;AAAlB,aADE,GACsD,IAD7D;AAEH;;;;EA1CgBS,gBAAMC,S;;AA+C3BnB,OAAOoB,SAAP,GAAmB;AACfd,eAAWe,oBAAUC,IADN;AAEfd,QAAIa,oBAAUC,IAFC;AAGfnB,WAAOkB,oBAAUE;AAHF,CAAnB;;kBAMevB,M","file":"IfTrue.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport OrElse from './OrElse';\n\nclass IfTrue extends React.Component {\n\n    render()\n    {\n        if (!this.props.children) {\n            return null;\n        }\n        const debug = this.props.debug || false;\n        let children = this.props.children;\n        if (!Array.isArray(children)) {\n            children = [ children ];\n        }\n        const statement = typeof this.props.condition !== 'undefined' ?\n            this.props.condition : (this.props.statement || this.props.st);\n        const allowedChildren = [];\n        let orElse = false;\n        // TODO REDO React.Children.map(children, (child, i) ?\n        if (!statement) {\n            if (debug) console.log(`IfTrue (${debug}): statement = false`);\n            for (const child of children) {\n                if (child.type && child.type.name === 'OrElse') {\n                    if (debug) console.log(`IfTrue (${debug}): OrElse detected. Start output children.`);\n                    orElse = true;\n                } else {\n                    if (orElse) {\n                        allowedChildren.push(child);\n                    }\n                }\n            }\n        } else {\n            if (debug) console.log(`IfTrue (${debug}): statement = true`);\n            for (const child of children) {\n                if (child.type && child.type.name === 'OrElse') {\n                    if (debug) console.log(`IfTrue (${debug}): OrElse detected. Break output children.`);\n                    break;\n                }\n                allowedChildren.push(child);\n            }\n        }\n        if (debug) console.log(`IfTrue (${debug}): result number of children is ${allowedChildren.length}`);\n        return allowedChildren.length > 0 ?\n            (<React.Fragment>{ allowedChildren }</React.Fragment>) : null;\n    }\n\n}\n\n\nIfTrue.propTypes = {\n    statement: PropTypes.bool,\n    st: PropTypes.bool,\n    debug: PropTypes.string\n};\n\nexport default IfTrue;\n"]}